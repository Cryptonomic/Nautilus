<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Configure Your New Node</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>
<body>
    <h1>Setup your Node</h1>
    <form action="/start_node">
        Name: <input type="text" name="name" id="name-field">
        <br>
        <br>
        Network: <br>
        <input type="radio" name="network" value="mainnet"> Mainnet <br>
        <input type="radio" name="network" value="carthagenet"> Carthagenet <br>
        <br>
        <br>
        History Mode: <a href="https://tezos.gitlab.io/user/history_modes.html">(?)</a><br>
        <input type="radio" name="mode" value="full"> Full Mode (default) <br>
        <input type="radio" name="mode" value="experimental-rolling"> Rolling Mode <br>
        <input type="radio" name="mode" value="archive"> Archive Mode <br>
        <br>
        <br>
        <input type="checkbox" name="restore"> Restore Node from Snapshot? <br>
        <br>
        <br>
        <i>More Advanced Settings Coming Soon...</i>
        <br>
        <br>
        <button type="submit" id="submit-button">Submit</button>
        <br>
    </form>

    <textarea id="output">

    </textarea>

    <script>
        let startLogging = function() {
            $.ajax({
                type: "GET",
                url: "/logs/",
                data: {name: $("#name-field").val()},
                dataType: "text",
                success: function(data) {
                    console.log(data);
                    $("#output").innerHTML = data.logs;
                }
            });
        }

        $("#submit-button").click(function () {
            setTimeout(function() {
                while(true) {
                    startLogging();
                }
            }, 1000);
        });
    </script>
</body>
</html>